<style>
.reasons_sec .container {
  max-width: 1320px;
  margin: 60px auto;
}

.reasons_sec .main_reason {
  margin: 0;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;
}

.reasons_sec .main_content h3 {
  color: #240e2b;
  margin-top: 8px;
  text-align: center;
}

.reasons_sec .main_content h3 span {
  color: #744682;
}

.reasons_sec .main_content {
  margin-bottom: 40px;
}

.set {
  border: 2px solid #DED8E5;
  border-radius: 16px;
  margin-bottom: 16px;
  position: relative;
}

.set a.active:before {
  content: "";
  position: absolute;
  top: -2px;
  bottom: -2px;
  left: -2px;
  right: -2px;
  border-radius: 16px;
  border: 4px solid #744682;
  pointer-events: none;
}

.set a.active,
.set a.active + .faqcontent {
  background-color: #FAF9FB;
}

.set a {
  justify-content: space-between;
  width: 100%;
  padding: 12px 16px;
  font-size: 16px;
  line-height: 24px;
  font-weight: 500;
  display: flex;
  color: #240e2b;
  text-decoration: none;
  align-items: center;
  border-radius: 16px;
}

.set .faqcontent p {
  font-size: 16px;
  font-weight: 500;
  margin: 0;
  color: #240e2b;
  line-height: 24px;
}

.set .faqcontent {
  padding: 5px 16px 12px;
  display: none;
  border-radius: 0 0 16px 16px;
}

.set a .icon {
  height: 20px;
  display: flex;
  align-items: center;
}

.set a .icon img {
  width: 20px;
  transition: all 0.2s;
}

.set a.active .icon img {
  transform: rotate(180deg);
}

.reasons_sec .reason-image img {
  width: 100%;
  height: auto;
  border-radius: 16px;
}

@media (max-width: 767px) {
  .reasons_sec .main_reason {
    grid-template-columns: 1fr;
    flex-direction: column-reverse;
  }
  
  .reasons_sec .faqblocks {
    order: 2;
  }
  
  .reasons_sec .reason-image {
    order: 1;
    margin-bottom: 20px;
  }
  
  .set a {
    font-size: 20px;
    line-height: 27px;
  }
  
  .set .faqcontent p {
    font-size: 18px;
    line-height: 27px;
  }
}
</style>

<section class="sc_reason reasons_sec">
  <div class="container">
    <div class="row">
      {% if section.settings.heading_part1 != blank %}
        <div class="main_content">
          <h3>{{ section.settings.heading_part1 }} <span>{{ section.settings.heading_part2 }}</span></h3>
        </div>
      {% endif %}

      <div class="main_reason">
        <div class="faqblocks">
          {% for block in section.blocks %}
            <div class="set" {{ block.shopify_attributes }}>
              <a href="javascript:void(0);">
                <span>{{ block.settings.title }}</span>
                <span class="icon" aria-hidden="true">
                  <svg width="20" height="12" viewBox="0 0 20 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 1L10 10L19 1" stroke="#744682" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </span>
              </a>
              <div class="faqcontent">
                {{ block.settings.content }}
              </div>
            </div>
          {% endfor %}
        </div>

        {% if section.settings.image != blank %}
          <div class="reason-image">
            {{ section.settings.image | image_url: width: 1500 | image_tag: 
              loading: 'lazy',
              class: 'img-fluid',
              alt: section.settings.heading_part1 | default: 'Reasons'
            }}
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const setLinks = document.querySelectorAll('.set > a');
    
    // Open first accordion by default
    if (setLinks.length > 0) {
      setLinks[0].classList.add('active');
      setLinks[0].nextElementSibling.style.display = 'block';
    }
    
    setLinks.forEach(function(link) {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        
        if (this.classList.contains('active')) {
          this.classList.remove('active');
          this.nextElementSibling.style.display = 'none';
        } else {
          // Close all others
          setLinks.forEach(function(otherLink) {
            otherLink.classList.remove('active');
            otherLink.nextElementSibling.style.display = 'none';
          });
          
          // Open this one
          this.classList.add('active');
          this.nextElementSibling.style.display = 'block';
        }
      });
    });
  });
</script>

{% schema %}
{
  "name": "5 Reasons",
  "settings": [
    {
      "type": "text",
      "id": "heading_part1",
      "label": "Heading Part 1",
      "default": "5 Reasons"
    },
    {
      "type": "text",
      "id": "heading_part2",
      "label": "Heading Part 2 (Purple)",
      "default": "Why Mature Women Love HairMagic+"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Side Image"
    }
  ],
  "blocks": [
    {
      "type": "reason",
      "name": "Reason",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Reason Title"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content",
          "default": "<p>Reason description goes here.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "5 Reasons",
      "category": "custom"
    }
  ]
}
{% endschema %}
