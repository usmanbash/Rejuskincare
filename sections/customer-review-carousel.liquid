
{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
  
{%- endstyle -%}


<section
  id="review-carousel-{{ section.id }}"
  class="review-carousel section-{{ section.id }}-padding"
  style="background-color: {{ section.settings.section_bg }};"
>
  <div class="page-width">
    <div class="review-header">
      <h2
                class="rich-text__heading rte inline-richtext {{ section.settings.heading_size }}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}"
                {{ section.shopify_attributes }}
              >
                {{ section.settings.heading }}
              </h2>
      <div class="review-controls">
        <button class="prev-arrow" type="button"><span>&#10094;</span></button>
        <button class="next-arrow" type="button"><span>&#10095;</span></button>
      </div>
    </div>

    <div class="review-slider">
      {% for block in section.blocks %}
        <div class="review-card" style="background-color: {{ section.settings.card_bg }};">
          <div class="review-top">
            <div class="review-stars">
              {% for i in (1..5) %}
                <span class="star">&#9733;</span>
              {% endfor %}
            </div>
            <span class="review-date">Purchased on {{ block.settings.review_date }}</span>
          </div>

          <p class="review-text">{{ block.settings.review_text }}</p>

          <div class="reviewer-info">
            <span>{{ block.settings.reviewer_age }} </span>
            <img src="{{ 'Dot.png' | asset_url }}" alt="Description">
            <span class="verified">
              <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.4179 5.64279C15.1352 5.19159 14.5978 4.96897 14.0788 5.08813L12.28 5.50122C12.0959 5.5435 11.9046 5.5435 11.7205 5.50122L9.92162 5.08813C9.4027 4.96897 8.86524 5.19159 8.58257 5.64279L7.60269 7.20685C7.5024 7.36694 7.36713 7.50221 7.20704 7.60251L5.64297 8.58238C5.19177 8.86506 4.96915 9.40251 5.08832 9.92144L5.5014 11.7203C5.54369 11.9044 5.54369 12.0957 5.50141 12.2798L5.08832 14.0787C4.96915 14.5976 5.19177 15.135 5.64297 15.4177L7.20704 16.3976C7.36713 16.4979 7.5024 16.6331 7.60269 16.7932L8.58257 18.3573C8.86524 18.8085 9.4027 19.0311 9.92162 18.912L11.7205 18.4989C11.9046 18.4566 12.0959 18.4566 12.28 18.4989L14.0788 18.912C14.5978 19.0311 15.1352 18.8085 15.4179 18.3573L16.3978 16.7932C16.4981 16.6332 16.6333 16.4979 16.7934 16.3976L18.3575 15.4177C18.8087 15.135 19.0313 14.5976 18.9121 14.0787L18.4991 12.2798C18.4568 12.0957 18.4568 11.9044 18.4991 11.7203L18.9121 9.92144C19.0313 9.40251 18.8087 8.86506 18.3575 8.58238L16.7934 7.60251C16.6333 7.50221 16.4981 7.36694 16.3978 7.20685L15.4179 5.64279ZM14.9152 9.76963C15.0556 9.53186 14.9767 9.22527 14.7389 9.08485C14.5011 8.94443 14.1945 9.02335 14.0541 9.26113L11.4402 13.6872L9.86121 12.1751C9.66177 11.9841 9.34526 11.9909 9.15426 12.1903C8.96327 12.3898 8.97012 12.7063 9.16956 12.8973L11.2042 14.8457C11.3144 14.9514 11.4669 15.0008 11.6182 14.98C11.7694 14.9591 11.9029 14.8704 11.9805 14.7389L14.9152 9.76963Z" fill="#000000"/>
</svg>
              Verified Buyer
            </span>
          </div>
        </div>
      {% endfor %}
    </div>

    <div class="review-dots"></div>
  </div>
</section>

<style>
.review-carousel {
  padding: 40px 0;
}
.review-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
}
.review-title {
  font-size: 1.8rem;
  font-weight: 600;
  margin: 0;
}
.review-controls button {
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
}
.review-slider {
  display: ;
}
.review-card {
  padding: 18px;
  border-radius: 10px;
  text-align: left;
  height: 100%;
  margin: 0 9px;
}
.review-top {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin-bottom: 10px;
  gap: 10px;
}
.review-stars .star {
  color: #97904B;
  font-size: 16px;
}
.review-text {
  font-size: 15px;
  line-height: 1.6;
  margin: 10px 0;
}
.reviewer-info {
  font-size: 14px;
  color: #1D211E;
  display: flex;
  align-items: center;
  padding: 4px 8px;
  background: #F3EEE7;
  width: fit-content;
  border-radius: 56px;
  gap: 4px;
  display: flex;
  justify-content: center;
  margin: 15px auto;
  letter-spacing: 0;
  margin-bottom: 0;
  font-weight: bold;
}
.verified {
  display: flex;
  align-items: center;
  font-size: 14px;
  letter-spacing: 0;
  color: #1D211E;
  font-weight: bold;
}
.review-dots {
  margin-top: 20px;
  text-align: center;
}
.review-slider .slick-dots{
  bottom: -50px;
}

.review-slider .slick-dots li button:before{
  width: 12px;
    height: 4px;
    border-radius: 42px;
    content: ' ';
    background: black;
}
.review-slider .slick-dots li.slick-active{
      margin-right: 12px;
}
.review-slider .slick-dots li.slick-active button:before{
  width: 24px;
}
.review-slider .slick-dots li {
  margin: 0 4px;
}
/* Mobile adjustments */
@media (max-width: 767px) {
  .review-header {
    flex-direction: column;
    text-align: center;
  }
  .review-controls {
    display: none;
  }
  .review-dots,
  .slick-dots {
    display: flex !important;
    justify-content: center;
    align-items: center;
    gap: 8px;
  }
  .slick-dots li button:before {
    font-size: 10px;
  }
}
/* Ensure each slide aligns evenly */
#review-carousel-{{ section.id }} .slick-track {
  display: flex !important;
}

/* Make all slides same height */
#review-carousel-{{ section.id }} .slick-slide {
 
  height: auto !important;
}



</style>
 <script type="text/javascript">
 $(document).ready(function(){
      $('.review-slider').slick({
        dots: true,
  infinite: true,
  speed: 300,
  slidesToShow: 3,
  slidesToScroll: 1,
  arrows: true,
      prevArrow: $('#review-carousel-{{ section.id }} .prev-arrow'),
      nextArrow: $('#review-carousel-{{ section.id }} .next-arrow'),
  responsive: [
        {
          breakpoint: 768,
          settings: {
            slidesToShow: 1,
            arrows: true,
            dots: true
          }
        }
      ]    
      });
    });
</script>


{% schema %}
{
  "name": "Review Carousel",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "Customer Reviews"
    },
    {
      "type": "color",
      "id": "section_bg",
      "label": "Section Background Color",
      "default": "#f8f8f8"
    },
    {
      "type": "color",
      "id": "card_bg",
      "label": "Review Card Background Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 52
    }
  ],
  "blocks": [
    {
      "type": "review",
      "name": "Review Block",
      "settings": [
        {
          "type": "text",
          "id": "review_date",
          "label": "Review Date",
          "default": "Oct 25, 2025"
        },
        {
          "type": "textarea",
          "id": "review_text",
          "label": "Review Text",
          "default": "This product exceeded my expectations! Excellent quality and fast delivery."
        },
        {
          "type": "text",
          "id": "reviewer_age",
          "label": "Reviewer Age/Name",
          "default": "32 years"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Review Carousel",
      "category": "Testimonials"
    }
  ]
}
{% endschema %}